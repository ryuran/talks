extends _layout.pug

mixin link_to_slides
  a(href=`${baseurl}/${path}`) #{baseurl}/#{path}

block head
  link(rel="stylesheet" href="/assets/css/reveal.css")
  link(rel="stylesheet" href="/assets/css/white.css")
  script(src="/assets/js/head.min.js" async=true)
  script(src="/assets/js/reveal.js" async=true)

block content
  .reveal
    .slides
      section.cover
        include _cover.pug
        +link_to_slides
      if who === 'start'
        section.speaker: include _speaker.pug
      != contents
      if who === 'end'
        section.speaker: include _speaker.pug
      if questions
        section.interleaf
          h2 Questions!{lang === 'fr'? '&nbsp;' : ''}?

  script.
    window.Reveal && Reveal.initialize({
      slideNumber: true,
      history: true,
      fragmentInURL: true,
      autoPlayMedia: true,

      width: 1280,
      height: 720,

      dependencies: [
        { src: '/assets/js/classList.js', condition: () => { !document.body.classList } },

        { src: '/assets/js/breadcrumb.js', async: true },

        { src: '/assets/js/plugins/zoom.js', async: true },
        { src: '/assets/js/plugins/notes.js', async: true },
      ]
    })
